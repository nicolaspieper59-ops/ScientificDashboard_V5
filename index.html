<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OMNISCIENCE V21 • MASTER HUD</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>

    <style>
        :root {
            --bg: #010101;
            --card: rgba(10, 10, 12, 0.98);
            --border: #1a1a20;
            --accent: #00ff88;
            --critical: #ff3300;
            --text: #e0e0e0;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            background: var(--bg); color: var(--text);
            font-family: 'JetBrains Mono', monospace;
            height: 100vh; display: flex; flex-direction: column; overflow: hidden;
        }

        header {
            height: 50px; background: #000; border-bottom: 2px solid var(--accent);
            display: grid; grid-template-columns: 1fr 2fr 1fr; align-items: center; padding: 0 15px;
            z-index: 10;
        }

        main {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px; padding: 5px; overflow-y: auto;
        }

        .panel {
            background: var(--card); border: 1px solid var(--border);
            padding: 8px; border-top: 2px solid var(--accent);
            display: flex; flex-direction: column; gap: 4px;
        }

        .panel h2 { font-size: 0.6rem; color: var(--accent); text-transform: uppercase; border-bottom: 1px solid #333; }

        .data-point {
            display: flex; justify-content: space-between; font-size: 0.65rem;
        }
        .data-point span:first-child { color: #777; }
        .data-point span:last-child { color: #fff; font-weight: bold; }
        .unit { color: var(--accent); font-size: 0.5rem; margin-left: 2px; }

        #anomaly-log { height: 60px; font-size: 0.55rem; color: var(--accent); overflow-y: auto; background: #000; border: 1px solid #222; }
        
        button#main-init-btn {
            cursor: pointer; background: var(--accent); color: #000; border: none;
            font-weight: bold; padding: 10px; font-size: 0.7rem; border-radius: 2px;
            transition: all 0.3s;
        }

        footer {
            height: 30px; background: #000; border-top: 1px solid #333;
            display: flex; justify-content: space-between; align-items: center; padding: 0 10px; font-size: 0.6rem;
        }
    </style>
</head>
<body>

<header>
    <div id="statut-meteo">SCANNING...</div>
    <div style="text-align: center;">OMNISCIENCE V21 • <span id="reality-status">NOMINAL</span></div>
    <div style="text-align: right;">SNR: <span id="ui-snr-db">--</span> dB</div>
</header>

<main>
    <div class="panel">
        <h2>GÉODÉSIE (WGS84)</h2>
        <div class="data-point"><span>Latitude</span><span id="lat-ukf">--</span></div>
        <div class="data-point"><span>Longitude</span><span id="lon-ukf">--</span></div>
        <div class="data-point"><span>Altitude</span><span id="alt-display">--</span></div>
        <div class="data-point"><span>Précision GPS</span><span id="ui-gps-accuracy">--</span></div>
        <div class="data-point"><span>Gravité Locale</span><span id="local-gravity">--</span></div>
        <div class="data-point"><span>Heading</span><span id="heading-display">--</span></div>
    </div>

    <div class="panel">
        <h2>MOUVEMENT_PRO</h2>
        <div class="data-point"><span>Vitesse Stab</span><span id="speed-stable-ms">--</span></div>
        <div class="data-point"><span>Vitesse (km/h)</span><span id="speed-stable-kmh">--</span></div>
        <div class="data-point"><span>Mach Number</span><span id="mach-number">--</span></div>
        <div class="data-point"><span>Accel (X|Y|Z)</span><span id="f-acc-xyz">--</span></div>
        <div class="data-point"><span>Pitch / Roll</span><span><span id="pitch">--</span> / <span id="roll">--</span></span></div>
        <div class="data-point"><span>Distance (BigN)</span><span id="dist-3d">--</span></div>
    </div>

    <div class="panel">
        <h2>AÉRODYNAMIQUE</h2>
        <div class="data-point"><span>Temp. Air</span><span id="ui-temp">--</span></div>
        <div class="data-point"><span>Densité (ρ)</span><span id="air-density">--</span></div>
        <div class="data-point"><span>Pression Dyn</span><span id="dynamic-pressure">--</span></div>
        <div class="data-point"><span>Reynolds (Re)</span><span id="reynolds-number">--</span></div>
        <div class="data-point"><span>Vitesse Son</span><span id="vitesse-son-cor">--</span></div>
        <button id="main-init-btn" onclick="startAdventure()">INITIALISER_MOTEUR_V21</button>
    </div>

    <div class="panel">
        <h2>RELATIVITÉ_LORENTZ</h2>
        <div class="data-point"><span>Facteur γ</span><span id="ui-gamma">--</span></div>
        <div class="data-point"><span>Dilatation T</span><span id="time-dilation">--</span></div>
        <div class="data-point"><span>Jour Julien</span><span id="ast-jd">--</span></div>
        <div id="anomaly-log">[SYSTEM] READY TO INITIALIZE...</div>
    </div>
</main>

<footer>
    <div>LATENCY: <span id="ui-clock-drift">0.000</span>ms</div>
    <div>ENGINE: OMNISCIENCE_PHYSICS_V200</div>
    <div id="utc-datetime">--:--:--</div>
</footer>

<div style="display:none;">
    <span id="ui-vrt"></span><span id="ui-sampling-rate"></span>
    <span id="ephem-status"></span>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.158.0/three.min.js"></script>
<script src="gnss-dashboard-full.js"></script>

</body>
    </html>
