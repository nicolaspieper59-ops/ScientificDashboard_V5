<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ARCHÈ X-13 | UNIVERSAL MEASUREMENT ENGINE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@300;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-gold: #ffaa00;
            --deep-black: #050505;
            --interface-blue: #00d4ff;
            --critical-red: #ff3c3c;
        }

        body {
            margin: 0;
            background-color: var(--deep-black);
            color: var(--neon-gold);
            font-family: 'Roboto Mono', monospace;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* HEADER & STATUS */
        header {
            padding: 15px;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(10, 10, 10, 0.9);
        }

        .device-tag {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8em;
            padding: 5px 10px;
            border: 1px solid var(--neon-gold);
            text-transform: uppercase;
        }

        /* MAIN DISPLAY */
        #main-display {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .velocity-readout {
            text-align: center;
        }

        .velocity-value {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(3rem, 15vw, 8rem);
            font-weight: 700;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }

        .unit {
            font-size: 1.5rem;
            color: var(--neon-gold);
        }

        /* MULTI-DEVICE GRID */
        .sensor-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            width: 90%;
            margin-bottom: 20px;
        }

        .sensor-box {
            border: 1px solid #222;
            padding: 10px;
            font-size: 0.7em;
            background: rgba(20, 20, 20, 0.5);
        }

        .sensor-box span { color: var(--interface-blue); font-weight: bold; }

        /* ANALYZER OVERLAY */
        #viz-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.4;
        }

        /* FOOTER LOGS */
        footer {
            height: 120px;
            background: #000;
            border-top: 2px solid var(--neon-gold);
            padding: 10px;
            font-size: 0.65em;
            overflow-y: scroll;
            color: #555;
        }

        .log-entry { margin-bottom: 3px; }
        .log-entry.secure { color: #00ff00; }

        /* BUTTONS */
        .controls {
            padding: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        button {
            background: transparent;
            border: 1px solid var(--neon-gold);
            color: var(--neon-gold);
            padding: 10px 20px;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            transition: 0.3s;
        }

        button:hover { background: var(--neon-gold); color: #000; }
    </style>
</head>
<body>

    <header>
        <div id="arche-id">ARCHÈ X-13 v1.0</div>
        <div id="device-label" class="device-tag">Detecting Hardware...</div>
        <div id="sync-status">SYNC: OFFLINE</div>
    </header>

    <div id="main-display">
        <canvas id="viz-canvas"></canvas>
        
        <div class="sensor-grid">
            <div class="sensor-box">RADAR (SONAR)<br><span id="radar-val">---</span></div>
            <div class="sensor-box">INFRARED (TOF)<br><span id="ir-val">---</span></div>
            <div class="sensor-box">GPS (MULTI-GNSS)<br><span id="gps-val">---</span></div>
            <div class="sensor-box">VIO (SLAM)<br><span id="vio-val">---</span></div>
            <div class="sensor-box">QUANTUM ERR<br><span id="planck-val">1.6e-35</span></div>
            <div class="sensor-box">INTEGRITY<br><span id="conf-val">10/10</span></div>
        </div>

        <div class="velocity-readout">
            <div id="main-v" class="velocity-value">0.000000</div>
            <div class="unit">mm/s <span id="precision-mode">(256-BIT)</span></div>
        </div>
    </div>

    <footer id="log-window">
        <div class="log-entry">> SYSTEM STARTUP...</div>
    </footer>

    <div class="controls">
        <button onclick="initSystem()">CALIBRATION</button>
        <button onclick="startRecord()">SEAL RECORD</button>
    </div>

    <script>
        /**
         * ARCHÈ X-13 | CORE ENGINE 256-BIT
         * Compatible: S10e & Lenovo Tab M10
         */

        const CONFIG = {
            isS10e: /G970F|SM-G970/.test(navigator.userAgent),
            isTabK11: /Lenovo|TB328|TB128/.test(navigator.userAgent), // Detection Tab M10 / K11
            precision: 256,
            samplingRate: 400 // Hz
        };

        let velocity = BigInt(0); // Utilisation de BigInt pour simuler la précision 256-bit
        let isRecording = false;

        // 1. DÉTECTION APPAREIL
        function setupHardware() {
            const label = document.getElementById('device-label');
            const logs = document.getElementById('log-window');

            if (CONFIG.isS10e) {
                label.innerText = "PROBE: GALAXY S10e";
                addLog("NPU Detected: Exynos Neural Engine Active.", "secure");
                addLog("Switching to High-Frequency IMU (400Hz).");
            } else if (CONFIG.isTabK11) {
                label.innerText = "STATION: LENOVO TAB M10";
                addLog("Display Optimized for FHD+ Control Center.", "secure");
                addLog("Data Aggregator Active.");
            } else {
                label.innerText = "GENERIC DEVICE";
                addLog("Warning: Hardware optimization unavailable.");
            }
        }

        // 2. MOTEUR DE MESURE (SIMULATION FUSION PHYSIQUE)
        function initSystem() {
            addLog("Starting Calibration: Move device in 8-shape...");
            if (typeof DeviceMotionEvent.requestPermission === 'function') {
                DeviceMotionEvent.requestPermission();
            }

            window.addEventListener('devicemotion', (event) => {
                let acc = event.acceleration;
                if (!acc) return;

                // Fusion fictive VIO + Radar + Inertiel
                let rawV = Math.sqrt(acc.x**2 + acc.y**2 + acc.z**2);
                
                // Affichage dynamique (Simule mm/s avec 6 décimales)
                if (rawV > 0.01) {
                    document.getElementById('main-v').innerText = (rawV * 1000).toFixed(6);
                    updateSensors(rawV);
                }
            });

            document.getElementById('sync-status').innerText = "SYNC: ACTIVE";
            document.getElementById('sync-status').style.color = "#00ff00";
        }

        function updateSensors(v) {
            document.getElementById('radar-val').innerText = (v * 1.02).toFixed(2) + " mm";
            document.getElementById('ir-val').innerText = "CALIBRATED";
            document.getElementById('gps-val').innerText = "SAT: 12 (L1/L5)";
            document.getElementById('vio-val').innerText = "LOCKED";
        }

        // 3. SCEAU DE SÉCURITÉ (SOUVERAINETÉ)
        function startRecord() {
            isRecording = true;
            addLog("RECORDING IN PROGRESS...", "secure");
            setTimeout(() => {
                const seal = "ARCHE-SYNC-" + Math.random().toString(36).toUpperCase().substr(2, 9);
                addLog("RECORD SEALED: " + seal, "secure");
                alert("RECORD SCELLÉ AVEC SUCCÈS\nID: " + seal + "\nPrécision: 10^-9 mm/s");
            }, 3000);
        }

        function addLog(msg, type = "") {
            const logs = document.getElementById('log-window');
            const entry = document.createElement('div');
            entry.className = "log-entry " + type;
            entry.innerText = "> " + msg;
            logs.prepend(entry);
        }

        // Init
        setupHardware();
        
        // Visualisation (Background Canvas)
        const canvas = document.getElementById('viz-canvas');
        const ctx = canvas.getContext('2d');
        function draw() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            ctx.strokeStyle = '#ffaa00';
            ctx.beginPath();
            ctx.moveTo(0, canvas.height/2);
            for(let i=0; i<canvas.width; i++) {
                ctx.lineTo(i, canvas.height/2 + Math.sin(i*0.02 + Date.now()*0.005) * 20);
            }
            ctx.stroke();
            requestAnimationFrame(draw);
        }
        draw();

    </script>
</body>
        </html>
