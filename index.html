<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GNSS SpaceTime Dashboard • OMNISCIENCE V17 PRO MAX</title>
    
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
          
    <style>
        :root {
            --bg-dark: #07070a; --panel-dark: #12121a; --border: #252533;
            --text-main: #e0e0e0; --col-sys: #00d2ff; --col-nav: #00ff88;
            --col-phy: #ff00ff; --col-ast: #ffcc00;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg-dark); color: var(--text-main); margin: 0; }
        .dashboard-container { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; padding: 10px; }
        section.panel { background: var(--panel-dark); border: 1px solid var(--border); border-radius: 8px; padding: 12px; border-top: 3px solid #ccc; }
        .column-1 { border-top-color: var(--col-sys); }
        .column-2 { border-top-color: var(--col-nav); }
        .column-3 { border-top-color: var(--col-phy); }
        .column-4 { border-top-color: var(--col-ast); }
        .data-point { display: flex; justify-content: space-between; font-size: 0.8rem; padding: 5px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        span[id] { font-family: 'Courier New', monospace; font-weight: bold; color: #fff; }
        #anomaly-log { height: 80px; overflow-y: auto; font-size: 0.7rem; background: #000; color: #0f0; padding: 5px; margin-top: 10px; border: 1px solid #333; }
        canvas#gforce-canvas { width: 100%; height: 50px; background: #000; margin-top: 5px; }
        video#ui-canvas { width: 100%; height: 100px; background: #000; object-fit: cover; border-radius: 4px; }
        .btn-main { width: 100%; padding: 15px; background: #0f0; color: #000; font-weight: bold; cursor: pointer; border: none; border-radius: 5px; margin-top: 10px; }
    </style>
</head>
<body class="dark-mode">

<div class="dashboard-container">
    
    <div class="column-1">
        <section class="panel">
            <h3><i class="fas fa-microchip"></i> SYSTÈME</h3>
            <div class="data-point"><span>Source Master</span><span id="master-source">SCANNING...</span></div>
            <div class="data-point"><span>Sampling Rate</span><span id="ui-sampling-rate">0 Hz</span></div>
            <div class="data-point"><span>Horloge</span><span id="ui-clock">00:00:00</span></div>
            <div class="data-point"><span>Temps Propre (τ)</span><span id="ui-tau">0.000</span></div>
            <div class="data-point"><span>Status Matériel</span><span id="hw-status">WAITING</span></div>
            
            <button id="main-init-btn" class="btn-main">INITIALISER LE NOYAU V17</button>
            <div id="anomaly-log"></div>
        </section>
    </div>

    <div class="column-2">
        <section class="panel">
            <h3><i class="fas fa-map-marker-alt"></i> NAVIGATION</h3>
            <div class="data-point"><span>Latitude [EKF]</span><span id="lat-ekf">0.00000000</span></div>
            <div class="data-point"><span>Longitude [EKF]</span><span id="lon-ekf">0.00000000</span></div>
            <div class="data-point"><span>Altitude [MT]</span><span id="alt-ekf">0.00 m</span></div>
            <div class="data-point"><span>Vitesse Stable</span><span id="speed-stable-kmh">0.00 km/h</span></div>
            <div class="data-point"><span>Distance Home</span><span id="ui-home-dist">0.00 m</span></div>
            <div class="data-point"><span>Distance Totale</span><span id="distance-totale">0.00 m</span></div>
            <video id="ui-canvas" autoplay playsinline muted></video>
        </section>
    </div>

    <div class="column-3">
        <section class="panel">
            <h3><i class="fas fa-atom"></i> CINÉTIQUE</h3>
            <div class="data-point"><span>Force G Inst.</span><span id="force-g-inst">1.00 G</span></div>
            <div class="data-point"><span>Impact Max</span><span id="ui-impact-g">1.00 G</span></div>
            <div class="data-point"><span>Vitesse Raw</span><span id="vitesse-raw">0.0000</span></div>
            <div class="data-point"><span>Facteur Lorentz</span><span id="ui-lorentz">1.000000</span></div>
            <canvas id="gforce-canvas"></canvas>
            
            <div id="poi-alert" style="display:none; color:#ff0; font-weight:bold; text-align:center;">⚠️ SHAKE DETECTED</div>
        </section>
    </div>

    <div class="column-4">
        <section class="panel">
            <h3><i class="fas fa-sun"></i> ENVIRONNEMENT</h3>
            <div class="data-point"><span>Temp. Air</span><span id="air-temp-c">20.0 °C</span></div>
            <div class="data-point"><span>Pression ISA</span><span id="pressure-hpa">1013.25</span></div>
            <div class="data-point"><span>Densité Air</span><span id="air-density">1.225</span></div>
            <div class="data-point"><span>Flux Élec.</span><span id="ui-elec-flux">---</span></div>
            <div class="data-point"><span>Date Julienne</span><span id="ast-jd">0.000000</span></div>
            
            <div style="margin-top:10px; display:flex; gap:5px;">
                <button onclick="MISSION_REPORTER.generateReport()" style="flex:1; font-size:0.7rem;">CSV LOGS</button>
                <button onclick="AstroEngine.exportOBJ()" style="flex:1; font-size:0.7rem;">EXPORT 3D</button>
            </div>
        </section>
    </div>

</div>

<script src="gnss-dashboard-full.js"></script>

</body>
                                                           </html>
