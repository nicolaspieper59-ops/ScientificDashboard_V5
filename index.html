<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OMNISCIENCE V75.0 - TOTAL RECALL EDITION</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.158.0/three.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=JetBrains+Mono:wght@300;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --accent: #00ff88; --blue: #00c3ff; --critical: #ff3300; --gold: #ffd700; --text: #e0e0e0;
            --bg: #020205; --panel: rgba(15, 15, 25, 0.98); --brd: #1a1a25;
        }
        body { 
            background: var(--bg); color: var(--text); font-family: 'JetBrains Mono', monospace; 
            margin: 0; padding: 0; overflow-x: hidden; font-size: 11px;
        }
        .hud-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
            gap: 8px; padding: 8px;
        }
        section.panel { 
            background: var(--panel); border: 1px solid var(--brd); padding: 12px; 
            border-radius: 4px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }
        h2 { font-family: 'Orbitron'; font-size: 0.7rem; color: var(--blue); border-bottom: 1px solid #334; padding-bottom: 4px; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; }
        h3 { font-size: 0.65rem; color: var(--gold); margin: 10px 0 5px 0; border-left: 2px solid var(--gold); padding-left: 5px; }

        .data-row { display: flex; justify-content: space-between; padding: 3px 0; border-bottom: 1px solid #112; }
        .data-row span:first-child { color: #778; }
        .data-row span:last-child { color: var(--accent); font-weight: 500; }
        
        .main-display { text-align: center; border: 1px solid var(--accent); padding: 10px; margin-bottom: 8px; border-radius: 2px; }
        .main-val { font-family: 'Orbitron'; font-size: 2.2rem; color: var(--accent); text-shadow: 0 0 10px rgba(0,255,136,0.3); }

        canvas, #map { background: #000; width: 100%; border: 1px solid #112; border-radius: 2px; }
        #map { height: 180px; }
        
        button { 
            width: 100%; background: #0a0a10; border: 1px solid #334; color: #fff; padding: 8px; 
            font-family: 'Orbitron'; font-size: 0.6rem; cursor: pointer; transition: 0.2s;
        }
        button:hover { border-color: var(--accent); color: var(--accent); }
        .btn-init { background: var(--accent) !important; color: #000 !important; font-weight: bold; border: none; margin-top: 5px; }
        
        #anomaly-log { height: 80px; overflow-y: auto; background: #000; font-size: 0.6rem; color: #445; padding: 5px; border: 1px solid #112; }
        .label-crit { color: var(--critical) !important; }
    </style>
</head>
<body>

<div class="hud-grid">
    
    <section class="panel">
        <h2><i class="fas fa-satellite"></i> Navigation_EKF_System</h2>
        <div id="map"></div>
        <div class="data-row"><span>Latitude (EKF)</span><span id="lat-ekf">N/A</span></div>
        <div class="data-row"><span>Longitude (EKF)</span><span id="lon-ekf">N/A</span></div>
        <div class="data-row"><span>Altitude (EKF)</span><span id="alt-ekf">N/A</span></div>
        <div class="data-row"><span>Précision (Hor)</span><span id="acc-gps">N/A</span></div>
        <div class="data-row"><span>Précision (Ver)</span><span id="alt-acc-gps">N/A</span></div>
        <div class="data-row"><span>Incertitude (P)</span><span id="ukf-v-uncert">N/A</span></div>
        <div class="data-row"><span>Cap (Heading)</span><span id="heading-display">N/A</span></div>
        <div class="data-row"><span>Distance Totale</span><span id="distance-totale">0.00 km</span></div>
    </section>

    <section class="panel">
        <h2><i class="fas fa-tachometer-alt"></i> Air_Data_Computer</h2>
        <div class="main-display">
            <div class="main-val" id="speed-stable-kmh">0.00</div>
            <div style="font-size:0.5rem; color:var(--accent)">KM/H (STABLE_IAS)</div>
        </div>
        <div class="data-row"><span>Vitesse Raw (m/s)</span><span id="vitesse-raw">N/A</span></div>
        <div class="data-row"><span>Vitesse Stable (m/s)</span><span id="speed-stable-ms">N/A</span></div>
        <div class="data-row"><span>Vitesse 3D Inst.</span><span id="speed-3d-inst">N/A</span></div>
        <div class="data-row"><span>Vitesse Verticale</span><span id="vertical-speed">N/A</span></div>
        <div class="data-row"><span>Nombre de Mach</span><span id="mach-number">N/A</span></div>
        <h3>Relativité Restreinte</h3>
        <div class="data-row"><span>Lorentz Factor (γ)</span><span id="ui-lorentz">1.000000</span></div>
        <div class="data-row"><span>Dilation Vitesse</span><span id="time-dilation-vitesse">0 ns/j</span></div>
        <div class="data-row"><span>Dilation Gravité</span><span id="time-dilation-gravite">0 ns/j</span></div>
        <div class="data-row"><span>Effet Total (Shift)</span><span id="total-time-dilation">0 ns/j</span></div>
    </section>

    <section class="panel">
        <h2><i class="fas fa-project-diagram"></i> Dynamics_&_SLAM</h2>
        <canvas id="gforce-canvas" height="100"></canvas>
        <div class="data-row"><span>Force G (Instant)</span><span id="force-g-inst">1.00</span></div>
        <div class="data-row"><span>Force G (Vertical)</span><span id="force-g-vert">1.00</span></div>
        <div class="data-row"><span>Stress Structurel</span><span id="structural-stress">NOMINAL</span></div>
        <h3>Inertial XYZ (SLAM)</h3>
        <div class="data-row"><span>Pos X (Rel)</span><span id="pos-x">0.00 m</span></div>
        <div class="data-row"><span>Pos Y (Rel)</span><span id="pos-y">0.00 m</span></div>
        <div class="data-row"><span>Pos Z (Rel)</span><span id="pos-z">0.00 m</span></div>
        <div class="data-row"><span>Pression Dyn (q)</span><span id="dynamic-pressure">0 Pa</span></div>
    </section>

    <section class="panel">
        <h2><i class="fas fa-leaf"></i> Bio_Environment</h2>
        <div class="data-row"><span>Température Air</span><span id="air-temp-c">N/A</span></div>
        <div class="data-row"><span>Humidité Rel.</span><span id="humidity-pct">N/A</span></div>
        <div class="data-row"><span>Pression (hPa)</span><span id="pressure-hpa">N/A</span></div>
        <div class="data-row"><span>Densité Air (ρ)</span><span id="air-density">N/A</span></div>
        <div class="data-row"><span>Point de Rosée</span><span id="dew-point">N/A</span></div>
        <div class="data-row"><span>Lumière (Lux)</span><span id="ambient-light">N/A</span></div>
        <h3>Qualité de l'Air & Bio</h3>
        <div class="data-row"><span>Particules PM2.5</span><span id="pm25-val">N/A</span></div>
        <div class="data-row"><span>Particules PM10</span><span id="pm10-val">N/A</span></div>
        <div class="data-row"><span>Dioxyde Azote (NO2)</span><span id="no2-val">N/A</span></div>
        <div class="data-row"><span>Ozone (O3)</span><span id="o3-val">N/A</span></div>
        <div class="data-row"><span>Saturation O2</span><span id="O2-saturation">N/A</span></div>
        <div class="data-row"><span>Photosynthèse</span><span id="photosynthesis-rate">N/A</span></div>
    </section>

    <section class="panel">
        <h2><i class="fas fa-moon"></i> Celestial_Ephemeris</h2>
        <canvas id="armillary-canvas" height="120"></canvas>
        <div class="data-row"><span>Julian Date</span><span id="ast-jd">N/A</span></div>
        <div class="data-row"><span>Heure Solaire (TST)</span><span id="tst-time">N/A</span></div>
        <div class="data-row"><span>Minecraft Time</span><span id="time-minecraft">N/A</span></div>
        <div class="data-row"><span>Équation du Temps</span><span id="equation-time">N/A</span></div>
        <h3>Soleil & Lune</h3>
        <div class="data-row"><span>Soleil (Alt/Az)</span><span><span id="sun-alt">--</span> / <span id="sun-azimuth">--</span></span></div>
        <div class="data-row"><span>Phase Lune</span><span id="moon-phase-name">N/A</span></div>
        <div class="data-row"><span>Lune (Alt/Az)</span><span><span id="moon-alt">--</span> / <span id="moon-azimuth">--</span></span></div>
        <div class="data-row"><span>Distance Lunaire</span><span id="moon-distance">N/A</span></div>
        <div class="data-row"><span>Syzygy / Eclipse</span><span id="ephem-status">NONE</span></div>
    </section>

    <section class="panel">
        <h2><i class="fas fa-microchip"></i> Mission_Control</h2>
        <div class="data-row"><span>Distance (s-Lum)</span><span id="distance-light-s">0.00</span></div>
        <div class="data-row"><span>Distance (UA)</span><span id="distance-cosmic">0.00</span></div>
        <div class="data-row"><span>Horizon Visible</span><span id="distance-horizon">N/A</span></div>
        <div class="data-row"><span>Vitesse Totale (C)</span><span id="v-cosmic">N/A</span></div>
        
        <div style="margin-top:10px;">
            <button id="main-init-btn" class="btn-init" onclick="startAdventure()">INITIALISER V17_PRO</button>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:4px; margin-top:4px;">
                <button id="toggle-gps-btn">GPS: OFF</button>
                <button id="emergency-stop-btn" class="label-crit">EMG_STOP</button>
                <button id="export-metrics-btn">EXPORT_CSV</button>
                <button id="clear-log-btn" onclick="document.getElementById('anomaly-log').innerHTML=''">CLEAR_LOG</button>
            </div>
        </div>
        <div id="anomaly-log" style="margin-top:8px;">> WAITING_FOR_INIT...</div>
    </section>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>

<script src="lib/ephem.js"></script>
<script src="api/weather.js"></script>

<script src="lib/astro.js"></script>

    
<script src="gnss-dashboard-full.js"></script>                  
</body>
</html> 
